<script>
  document.getElementById('year').textContent = new Date().getFullYear();

  const pwd = document.getElementById('password');
  const toggle = document.getElementById('togglePwd');
  toggle.addEventListener('click', () => {
    if (pwd.type === 'password') {
      pwd.type = 'text';
      toggle.textContent = 'Hide';
    } else {
      pwd.type = 'password';
      toggle.textContent = 'Show';
    }
  });

  function handleLogin(e) {
    e.preventDefault();
    const u = document.getElementById('username').value.trim();
    const p = document.getElementById('password').value.trim();
    const message = document.getElementById('message');

    const correctUser = 'Blackoutpro';
    const correctPass = '12580';
    const correctLicense = '10258';

    if (!u || !p) {
      message.textContent = 'Please enter username and password.';
      message.style.color = '#fca5a5';
      return false;
    }

    if (u === correctUser && p === correctPass) {
      const license = prompt('Please enter your license key:');
      if (license === correctLicense) {
        message.textContent = 'Login successful — welcome!';
        message.style.color = '#86efac';
        setTimeout(() => {
          window.location.href = '#dashboard';
        }, 700);
      } else {
        message.innerHTML = 
          'Invalid license key. লাইসেন্স পেতে টেলিগ্রামে জয়েন করুন: ' +
          '<a href="https://t.me/+ZUtf8GenYKUwYjg1" target="_blank" class="underline text-indigo-400">Join Telegram</a>';
        message.style.color = '#fca5a5';
      }
    } else {
      message.textContent = 'Username or password is incorrect.';
      message.style.color = '#fca5a5';
    }

    return false;
  }
</script>
